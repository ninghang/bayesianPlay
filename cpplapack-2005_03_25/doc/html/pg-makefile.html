<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: Typical &quot;Makefile&quot;s for Various Platforms</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1><a class="anchor" name="pg-makefile">Typical "Makefile"s for Various Platforms</a></h1><h2><a class="anchor" name="st-gXX">
Makefile for g++ + blas + lapack</a></h2>
<div class="fragment"><pre class="fragment">CPP = g++

COMP_FLAGS = -O2 -Wall -Wno-unknown-pragmas #-pg
LINK_FLAGS = -O2 -Wall -Wno-unknown-pragmas #-pg

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
LAPACK_LIB_DIR = /usr/local/lib/LAPACK
BLAS_LIB_DIR = /usr/local/lib/BLAS

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(LAPACK_LIB_DIR) -L$(BLAS_LIB_DIR)

LIBS = -llapack -lblas -lg2c -lm #-lefence
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-cygwin">
Makefile for g++ + atlas + lapack on Cygwin</a></h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#CPP = g++-2</span>
<span class="preprocessor"></span>CPP = g++

COMP_FLAGS = -O2 -Wall
LINK_FLAGS = -O2 -Wall

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
LAPACK_LIB_DIR = $(HOME)/local/lib/LAPACK
BLAS_LIB_DIR = $(HOME)/local/lib/ATLAS

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(LAPACK_LIB_DIR) -L$(BLAS_LIB_DIR)

LIBS = -llapack -lf77blas -latlas -lg2c -lm
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-icc81">
Makefile for icc8.1 + mkl7</a></h2>
<div class="fragment"><pre class="fragment">CPP = LC_ALL=C icc

<span class="preprocessor">#COMP_FLAGS = -openmp -O2 -w1 #[is buggy]</span>
<span class="preprocessor"></span><span class="preprocessor">#LINK_FLAGS = -O2 -w1 #[is buggy]</span>
<span class="preprocessor"></span>COMP_FLAGS = -openmp -O2 -w1 -cxxlib-icc 
LINK_FLAGS = -O2 -w1 -cxxlib-icc

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
MKL_LIB_DIRS = $(shell echo /opt/intel/mkl*/lib/32)

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(MKL_LIB_DIRS)

<span class="preprocessor">#LIBS = -lmkl_lapack -lmkl_ia32 -lguide -lpthread -lstdc++ -lefence #[is buggy]</span>
<span class="preprocessor"></span>LIBS = -lmkl_lapack -lmkl_ia32 -lguide -lpthread -lcprts -lunwind #-limf #-lefence

OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-icc8">
Makefile for icc8 + mkl6</a></h2>
<div class="fragment"><pre class="fragment">CPP = icc

COMP_FLAGS = -openmp -O2 -w1
LINK_FLAGS = -O2 -w1

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
MKL_LIB_DIRS = $(shell echo /opt/intel/mkl*/lib/32)
INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(MKL_LIB_DIRS)

LIBS = -lmkl_lapack -lmkl_ia32 -lguide -lpthread #-lefence
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-icc7">
Makefile for icc7 + mkl5</a></h2>
<div class="fragment"><pre class="fragment">CPP = icc

COMP_FLAGS = -O2 -w1
<span class="preprocessor">#COMP_FLAGS = -openmp -O2 -w1</span>
<span class="preprocessor"></span>LINK_FLAGS = -O2 -w1

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
ICC_INCLUDE_DIR = /opt/intel/compiler70/ia32/include
MKL_LIB_DIR = $(shell echo /opt/intel/mkl*/lib/32)

INCLUDE_DIRS = -I$(ICC_INCLUDE_DIR) -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(MKL_LIB_DIR)

LIBS = -lmkl_lapack -lmkl -lguide -lF90
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-ecc">
Makefile for ecc + mkl</a></h2>
<div class="fragment"><pre class="fragment">CPP = ecc

COMP_FLAGS = -O2 -w1
LINK_FLAGS = -O2 -w1

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include
ECC_INCLUDE_DIR = /opt/intel/compiler70/ia64/include
MKL_LIB_DIR = /opt/intel/mkl/lib/64/

INCLUDE_DIRS = -I$(ECC_INCLUDE_DIR) -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = -L$(MKL_LIB_DIR)

LIBS = -lmkl_lapack -lmkl -lguide -lF90
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-cxx_linux">
Makefile for cxx + cxml on Linux</a></h2>
<div class="fragment"><pre class="fragment">CPP = cxx

<span class="preprocessor">#COMP_FLAGS = -D__USE_STD_IOSTREAM -tune host -arch host -fast -O4 -Wall</span>
<span class="preprocessor"></span>COMP_FLAGS = -D__USE_STD_IOSTREAM -omp -tune host -arch host -fast -O4 -Wall
LINK_FLAGS = -D__USE_STD_IOSTREAM -omp -Wall

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS =

LIBS = -lcxml -lcpml
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-cxx_alpha">
Makefile for cxx + cxml on Alpha with MP</a></h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#please set OMP_NUM_THREAD ?</span>
<span class="preprocessor"></span>CPP = cxx

COMP_FLAGS = -D__USE_STD_IOSTREAM -omp -tune host -arch host -fast -O4 -Wall
LINK_FLAGS = -D__USE_STD_IOSTREAM -omp -Wall

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = 

LIBS = -lcxml
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-sxcXX">
Makefile for sxc++ + MathKeisan</a></h2>
<div class="fragment"><pre class="fragment">CPP = sxc++
<span class="preprocessor">#CPP = c++</span>
<span class="preprocessor"></span>
COMP_FLAGS = 
LINK_FLAGS = 

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = 

LIBS = -lblas_64 -lf90sxe -li90sxe
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-CC">
Makefile for CC + SCSL with MP</a></h2>
<div class="fragment"><pre class="fragment">CPP = CC

<span class="preprocessor">#COMP_FLAGS = -n32 -Ofast -LANG:std</span>
<span class="preprocessor"></span>COMP_FLAGS = -mp -n32 -Ofast -LANG:std
LINK_FLAGS = -mp -n32 -Ofast -LANG:std

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
CPPLAPACK_INCLUDE_DIR = $(HOME)/local/lib/cpplapack/include

INCLUDE_DIRS = -I$(CPPLAPACK_INCLUDE_DIR)
LIB_DIRS = 

<span class="preprocessor">#LIBS = -lscs -lfastm -lm</span>
<span class="preprocessor"></span>LIBS = -lscs_mp -lfastm -lm
OBJECTS = main.o

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.OUT: $(OBJECTS)
  $(CPP) $(OBJECTS) $(LINK_FLAGS) $(LIB_DIRS) $(LIBS) -o $@

.SUFFIXES: .cpp .o

.cpp.o:
  $(CPP) -c $&lt; $(COMP_FLAGS) $(INCLUDE_DIRS) $(MACROS)

<span class="keywordflow">do</span>: A.OUT
  ./A.OUT &gt; std 2&gt; err

clean:
  rm -f *~ $(OBJECTS)

fullclean:
  rm -f *~ $(OBJECTS) A.OUT std err 

remake: clean A.OUT
</pre></div> <br>
<br>
 <h2><a class="anchor" name="st-cl">
Makefile for cl(VC++) + clapack on Windows</a></h2>
[See <a class="el" href="pg-vcpp.html">How to compile with VC++ on Windows</a> also.] <div class="fragment"><pre class="fragment">CPP = cl.exe

COMP_FLAGS = /nologo /EHsc /w /MD
LINK_FLAGS = /link /nologo

<span class="preprocessor">#MACROS = -DCPPL_VERBOSE -DCPPL_DEBUG</span>
<span class="preprocessor"></span>
INCLROOT=C:\lib\cpplapack\cpplapack
CPPLAPACK_INCLUDE_DIR = <span class="stringliteral">"$(INCLROOT)\include"</span>
INCLUDE_DIRS = /I $(CPPLAPACK_INCLUDE_DIR) 

LIBSROOT=C:\lib\CLAPACK3-Windows
LIBS = <span class="stringliteral">"$(LIBSROOT)\clapack\Release\clapack.lib"</span> <span class="stringliteral">"$(LIBSROOT)\clapack\BLAS\Release\blas.lib"</span>

OBJECTS = main.obj

<span class="preprocessor">###############################################################################</span>
<span class="preprocessor"></span>
A.EXE: $(OBJECTS)
  $(CPP) $(OBJECTS) /o $@ $(LINK_FLAGS) $(LIBS)

.SUFFIXES: .cpp .obj

.cpp.obj:
  $(CPP) /c $(COMP_FLAGS) $(INCLUDE_DIRS) $&lt;

<span class="keywordflow">do</span>: A.OUT
  .\A.EXE &gt; std 2&gt; err

clean:
  del $(OBJECTS)

fullclean:
  del $(OBJECTS) A.EXE std err 

remake: clean A.EXE
</pre></div> <hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:29 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
