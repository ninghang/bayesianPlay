<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: Mechanism of &quot;Smart-Temporary&quot; System</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1><a class="anchor" name="pg-nt">Mechanism of "Smart-Temporary" System</a></h1><p>
Let A, B, C, and X be the dgematrix objects, 
and A, B, and C be the same size and initialized properly. 
</p>

<!---------------------------------------------------------------------------->
<center><table border="3">
<caption align="top">
Calculation Procedures to Process "X=A*B+C;"</caption>
<tr>
  <td></td>
  <td>CPPLapack</td>
  <td>ordinary matrix libraries</td>
</tr>

<tr>
  <td>operator*</td>
  <td>calculate A*B, and put it to a local _dgematrix object P to return</td>
  <td>calculate A*B, and put it to a local  dgematrix object P to return</td>
</tr>

<tr>
  <td>passing of returned object</td>
  <td>make a temporary _dgematrix object Q as the shallow copy of P</td>
  <td>make a temporary  dgematrix object Q as the    deep copy of P</td>
</tr>

<tr>
  <td>destructor for local object</td>
  <td>destruct local object P without deleting the array data</td>
  <td>destruct local object P    with deleting the array data</td>
</tr>

<tr>
  <td>operator+</td>
  <td>add C into Q, and return Q.</td>
  <td>calculate C+Q and, put it to a local dgematrix object R to return.</td>
</tr>

<tr>
  <td>passing of returned object</td>
  <td>make a temporary _dgematrix object R as the shallow copy of Q</td>
  <td>make a temporary  dgematrix object S as the    deep copy of R</td>
</tr>

<tr>
  <td>destructor for local object</td>
  <td>destruct local object Q without deleting the array data</td>
  <td>destruct local object R    with deleting the array data</td>
</tr>

<tr>
  <td>operator=</td>
  <td>set the array address of X to that of R</td>
  <td>copy whole the data of S to X</td>
</tr>

<tr>
  <td>implicit destructer (;)</td>
  <td>destruct the temporary object R without deleting the array data</td>
  <td>destruct the temporary objects Q and S with deleting the array data</td>
</tr>

</table></center>
<!---------------------------------------------------------------------------->

<p>
CPPLapack does not consume any extra memory space 
using its original "Smart-Temporary" system.
On the other hand, ordinary matrix libraries always generate useless 
temporary objects implicitly and consume a lot of extra memory space.
CPPLapack is efficient not only in computing speed 
but also in saving memory space.
</p>


<p>
[NOTE]
Recent advanced compilers automatically optimize 
the way of passing returned objects. 
The steps shown above is the case of the most primitive compiler. 
The performance of ordinary matrix libraries using advanced compilers
becomes close to the performance of CPPLapack.
However, CPPLapack still has some advantages in terms of 
the stepwise elimination, minimization of the number of temporary objects,
and so on.
</p>

 <hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:29 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
