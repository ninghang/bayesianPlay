<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: dgematrix-misc.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000017.html">dgematrix-</a></div>
<h1>dgematrix-misc.hpp</h1><a href="dgematrix-misc_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">//=============================================================================</span><span class="comment"></span>
00002 <span class="comment">/*! clear all the matrix data and set the sizes 0 */</span>
<a name="l00003"></a><a class="code" href="classdgematrix.html#a18">00003</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a18">dgematrix::clear</a>()
00004 {
00005 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00006 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::clear()"</span>
00007             &lt;&lt; std::endl;
00008 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00009 <span class="preprocessor"></span>  
00010 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00011 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dgematrix::clear() "</span>
00012             &lt;&lt; <span class="stringliteral">" An array at "</span> &lt;&lt; <a class="code" href="classdgematrix.html#r2">Array</a>
00013             &lt;&lt; <span class="stringliteral">" is going to be cleared."</span> &lt;&lt; std::endl;
00014 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00015 <span class="preprocessor"></span>  
00016   <a class="code" href="classdgematrix.html#r0">M</a> =0;
00017   <a class="code" href="classdgematrix.html#r1">N</a> =0;
00018   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r2">Array</a>;
00019   <a class="code" href="classdgematrix.html#r2">Array</a> =NULL;
00020   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r3">Darray</a>;
00021   <a class="code" href="classdgematrix.html#r3">Darray</a> =NULL;
00022 }
00023 
00024 <span class="comment">//=============================================================================</span><span class="comment"></span>
00025 <span class="comment">/*! change the matrix into a zero matrix */</span>
<a name="l00026"></a><a class="code" href="classdgematrix.html#a19">00026</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a19">dgematrix::zero</a>()
00027 {
00028 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00029 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::zero()"</span>
00030             &lt;&lt; std::endl;
00031 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00032 <span class="preprocessor"></span>  
00033   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdgematrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r0">M</a>*<a class="code" href="classdgematrix.html#r1">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#r2">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =0.0; }
00034 }
00035 
00036 <span class="comment">//=============================================================================</span><span class="comment"></span>
00037 <span class="comment">/*! change the matrix into an identity matrix */</span>
<a name="l00038"></a><a class="code" href="classdgematrix.html#a20">00038</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a20">dgematrix::identity</a>()
00039 {
00040 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00041 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::identity()"</span>
00042             &lt;&lt; std::endl;
00043 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00044 <span class="preprocessor"></span>  
00045 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00046 <span class="preprocessor"></span>  <span class="keywordflow">if</span>(<a class="code" href="classdgematrix.html#r0">M</a>!=<a class="code" href="classdgematrix.html#r1">N</a>){
00047     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dgematrix::identity()"</span> &lt;&lt; std::endl
00048               &lt;&lt; <span class="stringliteral">"Only square matrix can be a identity matrix."</span> &lt;&lt; std::endl
00049               &lt;&lt; <span class="stringliteral">"The matrix size was "</span> &lt;&lt; <a class="code" href="classdgematrix.html#r0">M</a> &lt;&lt; <span class="stringliteral">"x"</span> &lt;&lt; <a class="code" href="classdgematrix.html#r1">N</a> &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00050     exit(1);
00051   }
00052 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00053 <span class="preprocessor"></span>  
00054   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdgematrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r0">M</a>*<a class="code" href="classdgematrix.html#r1">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#r2">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =0.0; }
00055   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r0">M</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#a13">operator()</a>(<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>,<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>) =1.0; }
00056 }
00057 
00058 <span class="comment">//=============================================================================</span><span class="comment"></span>
00059 <span class="comment">/*! change sign(+/-) of the matrix */</span>
<a name="l00060"></a><a class="code" href="classdgematrix.html#a21">00060</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a21">dgematrix::chsign</a>()
00061 {
00062 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00063 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::chsign()"</span>
00064             &lt;&lt; std::endl;
00065 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00066 <span class="preprocessor"></span>  
00067   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdgematrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r0">M</a>*<a class="code" href="classdgematrix.html#r1">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#r2">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =-<a class="code" href="classdgematrix.html#r2">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>]; }
00068 }
00069 
00070 <span class="comment">//=============================================================================</span><span class="comment"></span>
00071 <span class="comment">/*! make a deep copy of the matrix */</span>
<a name="l00072"></a><a class="code" href="classdgematrix.html#a22">00072</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a22">dgematrix::copy</a>(<span class="keyword">const</span> <a class="code" href="classdgematrix.html">dgematrix</a>&amp; mat)
00073 {
00074 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00075 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::copy(const dgematrix&amp;)"</span>
00076             &lt;&lt; std::endl;
00077 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00078 <span class="preprocessor"></span>  
00079 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00080 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dgematrix::copy(const dgematrix&amp;) "</span>
00081             &lt;&lt; <span class="stringliteral">"A dgematrix at "</span> &lt;&lt; <a class="code" href="classdgematrix.html#r2">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted."</span>;
00082 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00083 <span class="preprocessor"></span>  
00084   <a class="code" href="classdgematrix.html#r0">M</a> =mat.M;
00085   <a class="code" href="classdgematrix.html#r1">N</a> =mat.N;
00086   <span class="keyword">delete</span> [] Array;
00087   Array =<span class="keyword">new</span> <span class="keywordtype">double</span>[mat.M*mat.N];
00088   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r3">Darray</a>;
00089   <a class="code" href="classdgematrix.html#r3">Darray</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>*[<a class="code" href="classdgematrix.html#r1">N</a>];
00090   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="classdgematrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r1">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#r3">Darray</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =&amp;Array[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>*<a class="code" href="classdgematrix.html#r0">M</a>]; }
00091   
00092   dcopy_(mat.M*mat.N, mat.Array, 1, Array, 1);
00093   
00094 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00095 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">" Then, a COPY of a dgematrix has been cleated at "</span>
00096             &lt;&lt; Array &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00097 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00098 <span class="preprocessor"></span>}
00099 
00100 <span class="comment">//=============================================================================</span><span class="comment"></span>
00101 <span class="comment">/*! make a shallow copy of the matrix\n</span>
00102 <span class="comment">  This function is not designed to be used in project codes. */</span>
<a name="l00103"></a><a class="code" href="classdgematrix.html#a23">00103</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a23">dgematrix::shallow_copy</a>(<span class="keyword">const</span> <a class="code" href="class__dgematrix.html">_dgematrix</a>&amp; mat)
00104 {
00105 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00106 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::shallow_copy(const _dgematrix&amp;)"</span>
00107             &lt;&lt; std::endl;
00108 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00109 <span class="preprocessor"></span>  
00110 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00111 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dgematrix:shallow_copy(const _dgematrix&amp;) "</span>
00112             &lt;&lt; <span class="stringliteral">"A dgematrix at "</span> &lt;&lt; <a class="code" href="classdgematrix.html#r2">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted, "</span>
00113             &lt;&lt; <span class="stringliteral">"and point at "</span> &lt;&lt; mat.Array &lt;&lt; <span class="stringliteral">" instead."</span> &lt;&lt; std::endl;
00114 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00115 <span class="preprocessor"></span>  
00116   <a class="code" href="classdgematrix.html#r0">M</a> =mat.M;
00117   <a class="code" href="classdgematrix.html#r1">N</a> =mat.N;
00118   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r2">Array</a>;
00119   <a class="code" href="classdgematrix.html#r2">Array</a> =mat.Array;
00120   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r3">Darray</a>;
00121   <a class="code" href="classdgematrix.html#r3">Darray</a> =mat.Darray;
00122 }
00123 
00124 <span class="comment">//=============================================================================</span><span class="comment"></span>
00125 <span class="comment">/*! resize the matrix */</span>
<a name="l00126"></a><a class="code" href="classdgematrix.html#a24">00126</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdgematrix.html#a24">dgematrix::resize</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _m, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _n)
00127 {
00128 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00129 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dgematrix::resize(const long&amp;, const long&amp;)"</span>
00130             &lt;&lt; std::endl;
00131 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00132 <span class="preprocessor"></span>  
00133 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00134 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( _m&lt;0 || _n&lt;0 ){
00135     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dgematrix::resize(const long&amp;, const long&amp;)"</span>
00136               &lt;&lt; std::endl
00137               &lt;&lt; <span class="stringliteral">"Matrix sizes must be positive integers."</span> &lt;&lt; std::endl
00138               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; _m &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; _n &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00139     exit(1);
00140   }
00141 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00142 <span class="preprocessor"></span>  
00143   <a class="code" href="classdgematrix.html#r0">M</a> =_m;
00144   <a class="code" href="classdgematrix.html#r1">N</a> =_n;
00145   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r2">Array</a>;
00146   <a class="code" href="classdgematrix.html#r2">Array</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="classdgematrix.html#r0">M</a>*<a class="code" href="classdgematrix.html#r1">N</a>];
00147   <span class="keyword">delete</span> [] <a class="code" href="classdgematrix.html#r3">Darray</a>;
00148   <a class="code" href="classdgematrix.html#r3">Darray</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>*[<a class="code" href="classdgematrix.html#r1">N</a>];
00149   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="classdgematrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdgematrix.html#r1">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdgematrix.html#r3">Darray</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =&amp;<a class="code" href="classdgematrix.html#r2">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>*<a class="code" href="classdgematrix.html#r0">M</a>]; }
00150 }
00151 
00152 <span class="comment">//=============================================================================</span><span class="comment"></span>
00153 <span class="comment">/*! swap two matrices */</span>
<a name="l00154"></a><a class="code" href="dgematrix-misc_8hpp.html#a0">00154</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dcovector-misc_8hpp.html#a0">swap</a>(<a class="code" href="classdgematrix.html">dgematrix</a>&amp; A, <a class="code" href="classdgematrix.html">dgematrix</a>&amp; B)
00155 {
00156 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00157 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] swap(dgematrix&amp;, dgematrix&amp;)"</span>
00158             &lt;&lt; std::endl;
00159 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00160 <span class="preprocessor"></span>  
00161   <span class="keywordtype">long</span> A_m(A.M), A_n(A.N);
00162   <span class="keywordtype">double</span>* A_array(A.Array);
00163   <span class="keywordtype">double</span>** A_darray(A.Darray);
00164   A.M=B.M; A.N=B.N; A.Array=B.Array; A.Darray=B.Darray;
00165   B.M=A_m; B.N=A_n; B.Array=A_array; B.Darray=A_darray;
00166 }
00167 
00168 <span class="comment">//=============================================================================</span><span class="comment"></span>
00169 <span class="comment">/*! convert user object to smart-temporary object */</span>
<a name="l00170"></a><a class="code" href="dgematrix-misc_8hpp.html#a1">00170</a> <span class="keyword">inline</span> <a class="code" href="class__dgematrix.html">_dgematrix</a> <a class="code" href="dcovector-misc_8hpp.html#a1">_</a>(<a class="code" href="classdgematrix.html">dgematrix</a>&amp; mat)
00171 {
00172 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00173 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] _(dgematrix&amp;)"</span>
00174             &lt;&lt; std::endl;
00175 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00176 <span class="preprocessor"></span>  
00177   <a class="code" href="class__dgematrix.html">_dgematrix</a> newmat;
00178   
00179   newmat.<a class="code" href="class__dgematrix.html#o0">M</a> =mat.<a class="code" href="class__dgematrix.html#o0">M</a>;
00180   newmat.<a class="code" href="class__dgematrix.html#o1">N</a> =mat.<a class="code" href="class__dgematrix.html#o1">N</a>;
00181   newmat.<a class="code" href="class__dgematrix.html#o2">Array</a> =mat.<a class="code" href="class__dgematrix.html#o2">Array</a>;
00182   newmat.<a class="code" href="class__dgematrix.html#o3">Darray</a> =mat.<a class="code" href="class__dgematrix.html#o3">Darray</a>;
00183   
00184   mat.<a class="code" href="class__dgematrix.html#o0">M</a> =0;
00185   mat.<a class="code" href="class__dgematrix.html#o1">N</a> =0;
00186   mat.<a class="code" href="class__dgematrix.html#o2">Array</a> =NULL;
00187   mat.<a class="code" href="class__dgematrix.html#o3">Darray</a> =NULL;
00188   
00189   <span class="keywordflow">return</span> newmat;
00190 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:23 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
