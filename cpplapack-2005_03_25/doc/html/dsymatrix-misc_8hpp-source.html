<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: dsymatrix-misc.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000021.html">dsymatrix-</a></div>
<h1>dsymatrix-misc.hpp</h1><a href="dsymatrix-misc_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">//=============================================================================</span><span class="comment"></span>
00002 <span class="comment">/*! complete the upper-right components */</span>
<a name="l00003"></a><a class="code" href="classdsymatrix.html#a14">00003</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a14">dsymatrix::complete</a>()<span class="keyword"> const</span>
00004 <span class="keyword"></span>{
00005 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00006 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::complete() const"</span>
00007             &lt;&lt; std::endl;
00008 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00009 <span class="preprocessor"></span>  
00010   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){
00011     <span class="keywordflow">for</span>(<span class="keywordtype">long</span> j=0; j&lt;<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>; j++){
00012       <a class="code" href="classdsymatrix.html#r2">Darray</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>][j] =<a class="code" href="classdsymatrix.html#r2">Darray</a>[j][<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>];
00013     }
00014   }
00015 }
00016 
00017 <span class="comment">//=============================================================================</span><span class="comment"></span>
00018 <span class="comment">/*! clear all the matrix data and set the sizes 0 */</span>
<a name="l00019"></a><a class="code" href="classdsymatrix.html#a15">00019</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a15">dsymatrix::clear</a>()
00020 {
00021 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00022 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::clear()"</span>
00023             &lt;&lt; std::endl;
00024 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00025 <span class="preprocessor"></span>  
00026 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00027 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dsymatrix::clear() "</span>
00028             &lt;&lt; <span class="stringliteral">" An array at "</span> &lt;&lt; <a class="code" href="classdsymatrix.html#r1">Array</a>
00029             &lt;&lt; <span class="stringliteral">" is going to be cleared."</span> &lt;&lt; std::endl;
00030 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00031 <span class="preprocessor"></span>  
00032   <a class="code" href="classdsymatrix.html#r0">N</a> =0;
00033   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r1">Array</a>;
00034   <a class="code" href="classdsymatrix.html#r1">Array</a> =NULL;
00035   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r2">Darray</a>;
00036   <a class="code" href="classdsymatrix.html#r2">Darray</a> =NULL;
00037 }
00038 
00039 <span class="comment">//=============================================================================</span><span class="comment"></span>
00040 <span class="comment">/*! change the matrix into a zero matrix */</span>
<a name="l00041"></a><a class="code" href="classdsymatrix.html#a16">00041</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a16">dsymatrix::zero</a>()
00042 {
00043 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00044 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::zero()"</span>
00045             &lt;&lt; std::endl;
00046 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00047 <span class="preprocessor"></span>  
00048   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>*<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#r1">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =0.0; }
00049 }
00050 
00051 <span class="comment">//=============================================================================</span><span class="comment"></span>
00052 <span class="comment">/*! change the matrix into an identity matrix */</span>
<a name="l00053"></a><a class="code" href="classdsymatrix.html#a17">00053</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a17">dsymatrix::identity</a>()
00054 {
00055 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00056 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::identity()"</span>
00057             &lt;&lt; std::endl;
00058 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00059 <span class="preprocessor"></span>  
00060   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>*<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#r1">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =0.0; }
00061   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;N; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#a9">operator()</a>(<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>,<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>) =1.0; }
00062 }
00063 
00064 <span class="comment">//=============================================================================</span><span class="comment"></span>
00065 <span class="comment">/*! change sign(+/-) of the matrix */</span>
<a name="l00066"></a><a class="code" href="classdsymatrix.html#a18">00066</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a18">dsymatrix::chsign</a>()
00067 {
00068 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00069 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::chsign()"</span>
00070             &lt;&lt; std::endl;
00071 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00072 <span class="preprocessor"></span>  
00073   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>*<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#r1">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =-<a class="code" href="classdsymatrix.html#r1">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>]; }
00074 }
00075 
00076 <span class="comment">//=============================================================================</span><span class="comment"></span>
00077 <span class="comment">/*! make a deep copy of the matrix */</span>
<a name="l00078"></a><a class="code" href="classdsymatrix.html#a19">00078</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a19">dsymatrix::copy</a>(<span class="keyword">const</span> <a class="code" href="classdsymatrix.html">dsymatrix</a>&amp; mat)
00079 {
00080 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00081 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::copy(const dsymatrix&amp;)"</span>
00082             &lt;&lt; std::endl;
00083 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00084 <span class="preprocessor"></span>  
00085 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00086 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dsymatrix::copy(const dsymatrix&amp;) "</span>
00087             &lt;&lt; <span class="stringliteral">"A dsymatrix at "</span> &lt;&lt; <a class="code" href="classdsymatrix.html#r1">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted."</span>;
00088 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00089 <span class="preprocessor"></span>  
00090   <a class="code" href="classdsymatrix.html#r0">N</a> =mat.N;
00091   <span class="keyword">delete</span> [] Array;
00092   Array =<span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="classdsymatrix.html#r0">N</a>*<a class="code" href="classdsymatrix.html#r0">N</a>];
00093   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r2">Darray</a>;
00094   <a class="code" href="classdsymatrix.html#r2">Darray</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>*[<a class="code" href="classdsymatrix.html#r0">N</a>];
00095   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#r2">Darray</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =&amp;Array[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>*N]; }
00096   
00097   dcopy_(mat.N*mat.N, mat.Array, 1, Array, 1);
00098   
00099 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00100 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">" Then, a COPY of a dsymatrix has been cleated at "</span>
00101             &lt;&lt; Array &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00102 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00103 <span class="preprocessor"></span>}
00104 
00105 <span class="comment">//=============================================================================</span><span class="comment"></span>
00106 <span class="comment">/*! make a shallow copy of the matrix\n</span>
00107 <span class="comment">  This function is not designed to be used in project codes. */</span>
<a name="l00108"></a><a class="code" href="classdsymatrix.html#a20">00108</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a20">dsymatrix::shallow_copy</a>(<span class="keyword">const</span> <a class="code" href="class__dsymatrix.html">_dsymatrix</a>&amp; mat)
00109 {
00110 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00111 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::shallow_copy(const _dsymatrix&amp;)"</span>
00112             &lt;&lt; std::endl;
00113 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00114 <span class="preprocessor"></span>  
00115 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00116 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dsymatrix:shallow_copy(const _dsymatrix&amp;) "</span>
00117             &lt;&lt; <span class="stringliteral">"A dsymatrix at "</span> &lt;&lt; <a class="code" href="classdsymatrix.html#r1">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted, "</span>
00118             &lt;&lt; <span class="stringliteral">"and point at "</span> &lt;&lt; mat.Array &lt;&lt; <span class="stringliteral">" instead."</span> &lt;&lt; std::endl;
00119 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00120 <span class="preprocessor"></span>  
00121   <a class="code" href="classdsymatrix.html#r0">N</a> =mat.N;
00122   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r1">Array</a>;
00123   <a class="code" href="classdsymatrix.html#r1">Array</a> =mat.Array;
00124   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r2">Darray</a>;
00125   <a class="code" href="classdsymatrix.html#r2">Darray</a> =mat.Darray;
00126 }
00127 
00128 <span class="comment">//=============================================================================</span><span class="comment"></span>
00129 <span class="comment">/*! resize the matrix */</span>
<a name="l00130"></a><a class="code" href="classdsymatrix.html#a21">00130</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdsymatrix.html#a21">dsymatrix::resize</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _n)
00131 {
00132 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00133 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dsymatrix::resize(const long&amp;)"</span>
00134             &lt;&lt; std::endl;
00135 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00136 <span class="preprocessor"></span>  
00137 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00138 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( _n&lt;0 ){
00139     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dsymatrix::resize(const long&amp;, const long&amp;)"</span>
00140               &lt;&lt; std::endl
00141               &lt;&lt; <span class="stringliteral">"Matrix sizes must be positive integers."</span> &lt;&lt; std::endl
00142               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; _n &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00143     exit(1);
00144   }
00145 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00146 <span class="preprocessor"></span>  
00147   <a class="code" href="classdsymatrix.html#r0">N</a> =_n;
00148   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r1">Array</a>;
00149   <a class="code" href="classdsymatrix.html#r1">Array</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>[<a class="code" href="classdsymatrix.html#r0">N</a>*<a class="code" href="classdsymatrix.html#r0">N</a>];
00150   <span class="keyword">delete</span> [] <a class="code" href="classdsymatrix.html#r2">Darray</a>;
00151   <a class="code" href="classdsymatrix.html#r2">Darray</a> =<span class="keyword">new</span> <span class="keywordtype">double</span>*[<a class="code" href="classdsymatrix.html#r0">N</a>];
00152   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="classdsymatrix.html#n15">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classdsymatrix.html#r0">N</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classdsymatrix.html#r2">Darray</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =&amp;<a class="code" href="classdsymatrix.html#r1">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>*N]; }
00153 }
00154 
00155 <span class="comment">//=============================================================================</span><span class="comment"></span>
00156 <span class="comment">/*! swap two matrices */</span>
<a name="l00157"></a><a class="code" href="dsymatrix-misc_8hpp.html#a0">00157</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dcovector-misc_8hpp.html#a0">swap</a>(<a class="code" href="classdsymatrix.html">dsymatrix</a>&amp; A, <a class="code" href="classdsymatrix.html">dsymatrix</a>&amp; B)
00158 {
00159 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00160 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] swap(dsymatrix&amp;, dsymatrix&amp;)"</span>
00161             &lt;&lt; std::endl;
00162 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00163 <span class="preprocessor"></span>  
00164   <span class="keywordtype">long</span> A_n(A.N);
00165   <span class="keywordtype">double</span>* A_array(A.Array);
00166   <span class="keywordtype">double</span>** A_darray(A.Darray);
00167   A.N=B.N; A.Array=B.Array; A.Darray=B.Darray;
00168   B.N=A_n; B.Array=A_array; B.Darray=A_darray;
00169 }
00170 
00171 <span class="comment">//=============================================================================</span><span class="comment"></span>
00172 <span class="comment">/*! convert user object to smart-temporary object */</span>
<a name="l00173"></a><a class="code" href="dsymatrix-misc_8hpp.html#a1">00173</a> <span class="keyword">inline</span> <a class="code" href="class__dsymatrix.html">_dsymatrix</a> <a class="code" href="dcovector-misc_8hpp.html#a1">_</a>(<a class="code" href="classdsymatrix.html">dsymatrix</a>&amp; mat)
00174 {
00175 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00176 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] _(dsymatrix&amp;)"</span>
00177             &lt;&lt; std::endl;
00178 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00179 <span class="preprocessor"></span>
00180   <a class="code" href="class__dsymatrix.html">_dsymatrix</a> newmat;
00181 
00182   newmat.<a class="code" href="class__dsymatrix.html#o0">N</a> =mat.<a class="code" href="class__dsymatrix.html#o0">N</a>;
00183   newmat.<a class="code" href="class__dsymatrix.html#o1">Array</a> =mat.<a class="code" href="class__dsymatrix.html#o1">Array</a>;
00184   newmat.<a class="code" href="class__dsymatrix.html#o2">Darray</a> =mat.<a class="code" href="class__dsymatrix.html#o2">Darray</a>;
00185 
00186   mat.<a class="code" href="class__dsymatrix.html#o0">N</a> =0;
00187   mat.<a class="code" href="class__dsymatrix.html#o1">Array</a> =NULL;
00188   mat.<a class="code" href="class__dsymatrix.html#o2">Darray</a> =NULL;
00189   
00190   <span class="keywordflow">return</span> newmat;
00191 }
00192 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:24 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
