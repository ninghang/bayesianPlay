<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: dssmatrix-io.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000020.html">dssmatrix-</a></div>
<h1>dssmatrix-io.hpp</h1><a href="dssmatrix-io_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">//=============================================================================</span><span class="comment"></span>
00002 <span class="comment">/*! operator() for const object */</span>
<a name="l00003"></a><a class="code" href="classdssmatrix.html#a7">00003</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classdssmatrix.html#a7">dssmatrix::operator()</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j)<span class="keyword"> const</span>
00004 <span class="keyword"></span>{
00005 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00006 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::operator()(const long&amp;, const long&amp;) const"</span>
00007             &lt;&lt; std::endl;
00008 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00009 <span class="preprocessor"></span>  
00010 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00011 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00012     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::operator()(long, long)"</span> &lt;&lt; std::endl
00013               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00014               &lt;&lt; std::endl
00015               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00016     exit(1);
00017   }
00018 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00019 <span class="preprocessor"></span>  
00020   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00021     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <span class="keywordflow">return</span> <a class="code" href="classdssmatrix.html#r4">Array</a>[c]; }
00022   }
00023   <span class="comment"></span>
00024 <span class="comment">  //// (i,j) component not found ////</span>
00025 <span class="comment"></span>  std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::operator()(long, long)"</span> &lt;&lt; std::endl
00026             &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00027             &lt;&lt; std::endl
00028             &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00029   exit(1);
00030 }
00031 <span class="comment"></span>
00032 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00033 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00034 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00035 <span class="comment"></span>
00036 <span class="comment">//=============================================================================</span><span class="comment"></span>
00037 <span class="comment">/*! put value with isListed check and volume cheack */</span>
<a name="l00038"></a><a class="code" href="classdssmatrix.html#a8">00038</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a8">dssmatrix::put</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00039 {
00040 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00041 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::put(const long&amp;, const long&amp;, const double&amp;)"</span>
00042             &lt;&lt; std::endl;
00043 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00044 <span class="preprocessor"></span>  
00045 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00046 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00047     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::put(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00048               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00049               &lt;&lt; std::endl
00050               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00051     exit(1);
00052   }
00053 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00054 <span class="preprocessor"></span>  <span class="comment"></span>
00055 <span class="comment">  //// in case (i,j) already exists ////</span>
00056 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00057     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <a class="code" href="classdssmatrix.html#r4">Array</a>[c]=v; <span class="keywordflow">return</span>; }
00058   }
00059   <span class="comment"></span>
00060 <span class="comment">  //// in case (i,j) doesnot exist ////</span>
00061 <span class="comment"></span>  <span class="keywordflow">if</span>(VOL==<a class="code" href="classdssmatrix.html#r2">CAP</a>){ 
00062     <a class="code" href="classdssmatrix.html#a24">expand</a>(CPPL_SS_SECTOR);
00063 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00064 <span class="preprocessor"></span>    std::cerr &lt;&lt; <span class="stringliteral">"[NOTE] dssmatrix::put(long&amp;, long&amp;, double&amp;) "</span>
00065               &lt;&lt; <span class="stringliteral">"The matrix volume was automatically expanded."</span> &lt;&lt; std::endl;
00066 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00067 <span class="preprocessor"></span>  }
00068   
00069   <a class="code" href="classdssmatrix.html#r5">Indx</a>[VOL]=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[VOL]=j; <a class="code" href="classdssmatrix.html#r4">Array</a>[VOL]=v;
00070   VOL++;
00071 }
00072 
00073 <span class="comment">//=============================================================================</span><span class="comment"></span>
00074 <span class="comment">/*! put value without isListed check and volume cheack */</span>
<a name="l00075"></a><a class="code" href="classdssmatrix.html#a9">00075</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a9">dssmatrix::fput</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00076 {
00077 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00078 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::fput(const long&amp;, const long&amp;, const double&amp;)"</span>
00079             &lt;&lt; std::endl;
00080 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00081 <span class="preprocessor"></span>  
00082 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00083 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00084     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::fput"</span>
00085               &lt;&lt; <span class="stringliteral">"(const long&amp;, lconst ong&amp;, const double&amp;)"</span> &lt;&lt; std::endl
00086               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00087               &lt;&lt; std::endl
00088               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00089     exit(1);
00090   }
00091   
00092   <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r3">VOL</a>==<a class="code" href="classdssmatrix.html#r2">CAP</a>){ 
00093     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::fput"</span>
00094               &lt;&lt; <span class="stringliteral">"(const long&amp;, const long&amp;, const double&amp;)"</span> &lt;&lt; std::endl
00095               &lt;&lt; <span class="stringliteral">"There is no free space to set a new entry."</span> &lt;&lt; std::endl;
00096     exit(1);
00097   }
00098   
00099   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00100     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){
00101       std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::fput"</span>
00102                 &lt;&lt; <span class="stringliteral">"(const long&amp;, const long&amp;, const double&amp;)"</span> &lt;&lt; std::endl
00103                 &lt;&lt; <span class="stringliteral">"The required component is already listed."</span> &lt;&lt; std::endl
00104                 &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00105       exit(1);
00106     }
00107   }
00108 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00109 <span class="preprocessor"></span>  
00110   <a class="code" href="classdssmatrix.html#r5">Indx</a>[VOL]=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>;  <a class="code" href="classdssmatrix.html#r6">Jndx</a>[VOL]=j;  <a class="code" href="classdssmatrix.html#r4">Array</a>[VOL]=v;
00111   VOL++;
00112 }
00113 <span class="comment"></span>
00114 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00115 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00116 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00117 <span class="comment"></span>
00118 <span class="comment">//=============================================================================</span><span class="comment"></span>
00119 <span class="comment">/*! add value with isListed check and volume cheack */</span>
<a name="l00120"></a><a class="code" href="classdssmatrix.html#a10">00120</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a10">dssmatrix::add</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00121 {
00122 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00123 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::add(const long&amp;, const long&amp;, const double&amp;)"</span>
00124             &lt;&lt; std::endl;
00125 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00126 <span class="preprocessor"></span>  
00127 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00128 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00129     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::add(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00130               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00131               &lt;&lt; std::endl
00132               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00133     exit(1);
00134   }
00135 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00136 <span class="preprocessor"></span>  <span class="comment"></span>
00137 <span class="comment">  //// in case (i,j) already exists ////</span>
00138 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00139     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <a class="code" href="classdssmatrix.html#r4">Array</a>[c]+=v; <span class="keywordflow">return</span>; }
00140   }
00141   <span class="comment"></span>
00142 <span class="comment">  //// in case (i,j) doesnot exist ////</span>
00143 <span class="comment"></span>  <span class="keywordflow">if</span>(VOL==<a class="code" href="classdssmatrix.html#r2">CAP</a>){
00144     <a class="code" href="classdssmatrix.html#a24">expand</a>(CPPL_SS_SECTOR);
00145 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00146 <span class="preprocessor"></span>    std::cerr &lt;&lt; <span class="stringliteral">"[NOTE] dssmatrix::add(long&amp;, long&amp;, double&amp;) "</span>
00147               &lt;&lt; <span class="stringliteral">"The matrix volume was automatically expanded."</span> &lt;&lt; std::endl;
00148 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00149 <span class="preprocessor"></span>  }
00150   
00151   <a class="code" href="classdssmatrix.html#r5">Indx</a>[VOL]=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[VOL]=j; <a class="code" href="classdssmatrix.html#r4">Array</a>[VOL]=v;
00152   VOL++;
00153 }
00154 
00155 <span class="comment">//=============================================================================</span><span class="comment"></span>
00156 <span class="comment">/*! subtract value with isListed check and volume cheack */</span>
<a name="l00157"></a><a class="code" href="classdssmatrix.html#a11">00157</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a11">dssmatrix::sub</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00158 {
00159 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00160 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::sub(const long&amp;, const long&amp;, const double&amp;)"</span>
00161             &lt;&lt; std::endl;
00162 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00163 <span class="preprocessor"></span>  
00164 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00165 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00166     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::sub(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00167               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00168               &lt;&lt; std::endl
00169               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00170     exit(1);
00171   }
00172 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00173 <span class="preprocessor"></span>  <span class="comment"></span>
00174 <span class="comment">  //// in case (i,j) already exists ////</span>
00175 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00176     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <a class="code" href="classdssmatrix.html#r4">Array</a>[c]-=v; <span class="keywordflow">return</span>; }
00177   }
00178   <span class="comment"></span>
00179 <span class="comment">  //// in case (i,j) doesnot exist ////</span>
00180 <span class="comment"></span>  <span class="keywordflow">if</span>(VOL==<a class="code" href="classdssmatrix.html#r2">CAP</a>){
00181     <a class="code" href="classdssmatrix.html#a24">expand</a>(CPPL_SS_SECTOR);
00182 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00183 <span class="preprocessor"></span>    std::cerr &lt;&lt; <span class="stringliteral">"[NOTE] dssmatrix::sub(long&amp;, long&amp;, double&amp;) "</span>
00184               &lt;&lt; <span class="stringliteral">"The matrix volume was automatically expanded."</span> &lt;&lt; std::endl;
00185 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00186 <span class="preprocessor"></span>  }
00187   
00188   <a class="code" href="classdssmatrix.html#r5">Indx</a>[VOL]=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[VOL]=j; <a class="code" href="classdssmatrix.html#r4">Array</a>[VOL]=-v;
00189   VOL++;
00190 }
00191 
00192 <span class="comment">//=============================================================================</span><span class="comment"></span>
00193 <span class="comment">/*! multiply value with isListed check and volume cheack */</span>
<a name="l00194"></a><a class="code" href="classdssmatrix.html#a12">00194</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a12">dssmatrix::mult</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00195 {
00196 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00197 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::mult(const long&amp;, const long&amp;, const double&amp;)"</span>
00198             &lt;&lt; std::endl;
00199 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00200 <span class="preprocessor"></span>  
00201 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00202 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00203     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::mult(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00204               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00205               &lt;&lt; std::endl
00206               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00207     exit(1);
00208   }
00209 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00210 <span class="preprocessor"></span>  <span class="comment"></span>
00211 <span class="comment">  //// in case (i,j) already exists ////</span>
00212 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00213     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <a class="code" href="classdssmatrix.html#r4">Array</a>[c]*=v; <span class="keywordflow">return</span>; }
00214   }
00215   <span class="comment"></span>
00216 <span class="comment">  //// in case (i,j) doesnot exist ////</span>
00217 <span class="comment"></span>  <span class="keywordflow">return</span>;
00218 }
00219 
00220 <span class="comment">//=============================================================================</span><span class="comment"></span>
00221 <span class="comment">/*! divide value with isListed check and volume cheack */</span>
<a name="l00222"></a><a class="code" href="classdssmatrix.html#a13">00222</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a13">dssmatrix::div</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; v)
00223 {
00224 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00225 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::div(const long&amp;, const long&amp;, const double&amp;)"</span>
00226             &lt;&lt; std::endl;
00227 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00228 <span class="preprocessor"></span>  
00229 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00230 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00231     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::div(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00232               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00233               &lt;&lt; std::endl
00234               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00235     exit(1);
00236   }
00237 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00238 <span class="preprocessor"></span>  <span class="comment"></span>
00239 <span class="comment">  //// in case (i,j) already exists ////</span>
00240 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00241     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){ <a class="code" href="classdssmatrix.html#r4">Array</a>[c]/=v; <span class="keywordflow">return</span>; }
00242   }
00243   <span class="comment"></span>
00244 <span class="comment">  //// in case (i,j) doesnot exist ////</span>
00245 <span class="comment"></span>  <span class="keywordflow">return</span>;
00246 }
00247 <span class="comment"></span>
00248 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00249 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00250 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00251 <span class="comment"></span>
00252 <span class="comment">//=============================================================================</span><span class="comment"></span>
00253 <span class="comment">/*! delete the entry of a component */</span>
<a name="l00254"></a><a class="code" href="classdssmatrix.html#a14">00254</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a14">dssmatrix::del</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j)
00255 {
00256 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00257 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::del(const long&amp;, const long&amp;)"</span>
00258             &lt;&lt; std::endl;
00259 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00260 <span class="preprocessor"></span>  
00261 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00262 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classdssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classdssmatrix.html#r1">N</a>&lt;=j ){
00263     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::del(long&amp;, long&amp;, double&amp;)"</span> &lt;&lt; std::endl
00264               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00265               &lt;&lt; std::endl
00266               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00267     exit(1);
00268   }
00269 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00270 <span class="preprocessor"></span>  
00271   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00272     <span class="keywordflow">if</span>(<a class="code" href="classdssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]==j){
00273       VOL--;
00274       <a class="code" href="classdssmatrix.html#r5">Indx</a>[c]=<a class="code" href="classdssmatrix.html#r5">Indx</a>[VOL];  Jndx[c]=Jndx[VOL];  <a class="code" href="classdssmatrix.html#r4">Array</a>[c]=<a class="code" href="classdssmatrix.html#r4">Array</a>[VOL];
00275       <span class="keywordflow">return</span>;
00276     }
00277   }
00278   
00279   std::cerr &lt;&lt; <span class="stringliteral">"[WARNING] dssmatrix::del(long&amp;, long&amp;, double&amp;) "</span>
00280             &lt;&lt; <span class="stringliteral">"The required component was not listed. "</span>
00281             &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00282 }
00283 
00284 <span class="comment">//=============================================================================</span><span class="comment"></span>
00285 <span class="comment">/*! delete the entry of an element */</span>
<a name="l00286"></a><a class="code" href="classdssmatrix.html#a15">00286</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a15">dssmatrix::fdel</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; c)
00287 {
00288 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00289 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::fdel(const long&amp;)"</span>
00290             &lt;&lt; std::endl;
00291 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00292 <span class="preprocessor"></span>  
00293 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00294 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( c&lt;0 || c&gt;<a class="code" href="classdssmatrix.html#r3">VOL</a> ){
00295     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::fdel(const long&amp;)"</span> &lt;&lt; std::endl
00296               &lt;&lt; <span class="stringliteral">"The required element is out of the matrix volume."</span>
00297               &lt;&lt; std::endl
00298               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00299     exit(1);
00300   }
00301   
00302   std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] dssmatrix::fdel(const long&amp;) "</span>
00303             &lt;&lt; <span class="stringliteral">"The ("</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r5">Indx</a>[c] &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]
00304             &lt;&lt; <span class="stringliteral">") component is going to be deleted."</span> &lt;&lt; std::endl;
00305 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00306 <span class="preprocessor"></span>  
00307   <a class="code" href="classdssmatrix.html#r3">VOL</a>--;
00308   <a class="code" href="classdssmatrix.html#r5">Indx</a>[c]=<a class="code" href="classdssmatrix.html#r5">Indx</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>];  <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c]=<a class="code" href="classdssmatrix.html#r6">Jndx</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>];  <a class="code" href="classdssmatrix.html#r4">Array</a>[c]=<a class="code" href="classdssmatrix.html#r4">Array</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>];
00309 }
00310 <span class="comment"></span>
00311 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00312 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00313 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00314 <span class="comment"></span>
00315 <span class="comment">//=============================================================================</span>
<a name="l00316"></a><a class="code" href="dssmatrix-io_8hpp.html#a0">00316</a> <span class="keyword">inline</span> std::ostream&amp; <a class="code" href="__dcovector-io_8hpp.html#a0">operator&lt;&lt;</a>(std::ostream&amp; s, <span class="keyword">const</span> <a class="code" href="classdssmatrix.html">dssmatrix</a>&amp; mat)
00317 {
00318 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00319 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] operator&lt;&lt;(std::ostream&amp;, const dssmatrix&amp;)"</span>
00320             &lt;&lt; std::endl;
00321 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00322 <span class="preprocessor"></span>  
00323   <span class="keywordtype">long</span> c;
00324   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;mat.<a class="code" href="class__dgematrix.html#o0">M</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){
00325     <span class="keywordflow">for</span>(<span class="keywordtype">long</span> j=0; j&lt;mat.N; j++){
00326       c=0;
00327       <span class="keywordflow">while</span>(c&lt;mat.VOL){
00328         <span class="keywordflow">if</span>(mat.Indx[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; mat.Jndx[c]==j){ <span class="keywordflow">break</span>; }
00329         c++;
00330       }
00331       <span class="keywordflow">if</span>(c!=mat.VOL){ s &lt;&lt; mat.<a class="code" href="class__dgematrix.html#o2">Array</a>[c] &lt;&lt; <span class="stringliteral">" "</span>; }
00332       <span class="keywordflow">else</span>{ s &lt;&lt; <span class="stringliteral">"x "</span>; }
00333     }
00334     s &lt;&lt; std::endl;
00335   }
00336   
00337   <span class="keywordflow">return</span> s;
00338 }
00339 <span class="comment"></span>
00340 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00341 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00342 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00343 <span class="comment"></span>
00344 <span class="comment">//=============================================================================</span>
<a name="l00345"></a><a class="code" href="classdssmatrix.html#a16">00345</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a16">dssmatrix::write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename)<span class="keyword"> const</span>
00346 <span class="keyword"></span>{
00347 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00348 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::write(const char*) const"</span>
00349             &lt;&lt; std::endl;
00350 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00351 <span class="preprocessor"></span>  
00352   std::ofstream s(filename, std::ios::trunc);
00353   
00354   s &lt;&lt; <span class="stringliteral">"dssmatrix"</span> &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r0">M</a> &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r1">N</a> &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r2">CAP</a> &lt;&lt; std::endl;
00355   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classdssmatrix.html#r3">VOL</a>; c++){
00356     s &lt;&lt; <a class="code" href="classdssmatrix.html#r5">Indx</a>[c] &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[c] &lt;&lt; <span class="stringliteral">" "</span> &lt;&lt; <a class="code" href="classdssmatrix.html#r4">Array</a>[c] &lt;&lt; std::endl;
00357   }
00358   s.close();
00359 }
00360 
00361 <span class="comment">//=============================================================================</span>
<a name="l00362"></a><a class="code" href="classdssmatrix.html#a17">00362</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classdssmatrix.html#a17">dssmatrix::read</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename)
00363 {
00364 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00365 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] dssmatrix::read(const char*)"</span>
00366             &lt;&lt; std::endl;
00367 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00368 <span class="preprocessor"></span>  
00369   std::ifstream s( filename );
00370   <span class="keywordflow">if</span>(!s){
00371     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::read(const char*) "</span> &lt;&lt; std::endl
00372               &lt;&lt; <span class="stringliteral">"The file \""</span> &lt;&lt; filename &lt;&lt; <span class="stringliteral">"\" can not be opened."</span>
00373               &lt;&lt; std::endl;
00374     exit(1);
00375   }
00376 
00377   std::string id;
00378   s &gt;&gt; id;
00379   <span class="keywordflow">if</span>( <span class="keywordtype">id</span> != <span class="stringliteral">"dssmatrix"</span> ){
00380     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::read(const char*) "</span> &lt;&lt; std::endl
00381               &lt;&lt; <span class="stringliteral">"The type name of the file \""</span> &lt;&lt; filename
00382               &lt;&lt; <span class="stringliteral">"\" is not dssmatrix."</span> &lt;&lt; std::endl
00383               &lt;&lt; <span class="stringliteral">"Its type name was "</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">" ."</span> &lt;&lt; std::endl;
00384     exit(1);
00385   }
00386   
00387   s &gt;&gt; <a class="code" href="classdssmatrix.html#r0">M</a> &gt;&gt; <a class="code" href="classdssmatrix.html#r1">N</a> &gt;&gt; <a class="code" href="classdssmatrix.html#r2">CAP</a>;
00388   <a class="code" href="classdssmatrix.html#a23">resize</a>(<a class="code" href="classdssmatrix.html#r0">M</a>, <a class="code" href="classdssmatrix.html#r1">N</a>, CAP);
00389   
00390   <span class="keywordtype">long</span> pos, tmp; 
00391   <span class="keywordflow">while</span>(!s.eof() &amp;&amp; <a class="code" href="classdssmatrix.html#r3">VOL</a>&lt;CAP){
00392     s &gt;&gt; <a class="code" href="classdssmatrix.html#r5">Indx</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>] &gt;&gt; <a class="code" href="classdssmatrix.html#r6">Jndx</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>] &gt;&gt; <a class="code" href="classdssmatrix.html#r4">Array</a>[<a class="code" href="classdssmatrix.html#r3">VOL</a>];
00393     pos =s.tellg(); s &gt;&gt; tmp; s.seekg(pos);
00394     <a class="code" href="classdssmatrix.html#r3">VOL</a>++;
00395   }
00396   
00397   <span class="keywordflow">if</span>(!s.eof()){
00398     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] dssmatrix::read(const char*) "</span> &lt;&lt; std::endl
00399               &lt;&lt; <span class="stringliteral">"There is something is wrong with the file \""</span>
00400               &lt;&lt; filename &lt;&lt; <span class="stringliteral">" ."</span> &lt;&lt; std::endl
00401               &lt;&lt; <span class="stringliteral">"Most likely, there are too many data components "</span>
00402               &lt;&lt; <span class="stringliteral">"over the context."</span> &lt;&lt; std::endl;
00403     exit(1);
00404   }
00405   s.close();
00406 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:23 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
