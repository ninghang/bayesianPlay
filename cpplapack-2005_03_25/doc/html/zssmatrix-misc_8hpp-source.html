<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CPPLapack: zssmatrix-misc.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000029.html">zssmatrix-</a></div>
<h1>zssmatrix-misc.hpp</h1><a href="zssmatrix-misc_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">//=============================================================================</span><span class="comment"></span>
00002 <span class="comment">/*! clear all the matrix data and set the sizes 0 */</span>
<a name="l00003"></a><a class="code" href="classzssmatrix.html#a18">00003</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a18">zssmatrix::clear</a>()
00004 {
00005 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00006 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::clear()"</span>
00007             &lt;&lt; std::endl;
00008 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00009 <span class="preprocessor"></span>  
00010 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00011 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] zssmatrix::clear() "</span>
00012             &lt;&lt; <span class="stringliteral">" An array at "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r4">Array</a>
00013             &lt;&lt; <span class="stringliteral">" is going to be cleared."</span> &lt;&lt; std::endl;
00014 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00015 <span class="preprocessor"></span>  
00016   <a class="code" href="classzssmatrix.html#r0">M</a> =<a class="code" href="classzssmatrix.html#r1">N</a> =<a class="code" href="classzssmatrix.html#r2">CAP</a> =<a class="code" href="classzssmatrix.html#r3">VOL</a>=0;
00017   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r4">Array</a>;  <a class="code" href="classzssmatrix.html#r4">Array</a> =NULL;
00018   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r5">Indx</a>;  <a class="code" href="classzssmatrix.html#r5">Indx</a> =NULL;
00019   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r6">Jndx</a>;  <a class="code" href="classzssmatrix.html#r6">Jndx</a> =NULL;
00020 }
00021 
00022 <span class="comment">//=============================================================================</span><span class="comment"></span>
00023 <span class="comment">/*! change the matrix into a zero matrix */</span>
<a name="l00024"></a><a class="code" href="classzssmatrix.html#a19">00024</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a19">zssmatrix::zero</a>()
00025 {
00026 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00027 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::zero()"</span>
00028             &lt;&lt; std::endl;
00029 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00030 <span class="preprocessor"></span>  
00031   <a class="code" href="classzssmatrix.html#r3">VOL</a> =0;
00032 }
00033 
00034 <span class="comment">//=============================================================================</span><span class="comment"></span>
00035 <span class="comment">/*! change sign(+/-) of the matrix */</span>
<a name="l00036"></a><a class="code" href="classzssmatrix.html#a20">00036</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a20">zssmatrix::chsign</a>()
00037 {
00038 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00039 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::chsign()"</span>
00040             &lt;&lt; std::endl;
00041 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00042 <span class="preprocessor"></span>  
00043   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){ <a class="code" href="classzssmatrix.html#r4">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =-<a class="code" href="classzssmatrix.html#r4">Array</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>]; }
00044 }
00045 
00046 <span class="comment">//=============================================================================</span><span class="comment"></span>
00047 <span class="comment">/*! make a deep copy of the matrix */</span>
<a name="l00048"></a><a class="code" href="classzssmatrix.html#a21">00048</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a21">zssmatrix::copy</a>(<span class="keyword">const</span> <a class="code" href="classzssmatrix.html">zssmatrix</a>&amp; mat)
00049 {
00050 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00051 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::copy(const zssmatrix&amp;)"</span>
00052             &lt;&lt; std::endl;
00053 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00054 <span class="preprocessor"></span>  
00055 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00056 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] zssmatrix::copy(const zssmatrix&amp;) "</span>
00057             &lt;&lt; <span class="stringliteral">"A zssmatrix at "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r4">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted."</span>;
00058 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00059 <span class="preprocessor"></span>  
00060   <a class="code" href="classzssmatrix.html#a23">resize</a>(mat.M, mat.N, mat.CAP);
00061   <a class="code" href="classzssmatrix.html#r3">VOL</a> =mat.VOL;
00062   zcopy_(<a class="code" href="classzssmatrix.html#r3">VOL</a>, mat.Array, 1, Array, 1);
00063   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>=0; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>++){
00064     <a class="code" href="classzssmatrix.html#r5">Indx</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =mat.Indx[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>];
00065     <a class="code" href="classzssmatrix.html#r6">Jndx</a>[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>] =mat.Jndx[<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>];
00066   }
00067   
00068 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00069 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">" Then, a COPY of a zssmatrix has been cleated at "</span>
00070             &lt;&lt; Array &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00071 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00072 <span class="preprocessor"></span>}
00073 
00074 <span class="comment">//=============================================================================</span><span class="comment"></span>
00075 <span class="comment">/*! make a shallow copy of the matrix\n</span>
00076 <span class="comment">  This function is not designed to be used in project codes. */</span>
<a name="l00077"></a><a class="code" href="classzssmatrix.html#a22">00077</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a22">zssmatrix::shallow_copy</a>(<span class="keyword">const</span> <a class="code" href="class__zssmatrix.html">_zssmatrix</a>&amp; mat)
00078 {
00079 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00080 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::shallow_copy(const _zssmatrix&amp;)"</span>
00081             &lt;&lt; std::endl;
00082 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00083 <span class="preprocessor"></span>  
00084 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00085 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] zssmatrix:shallow_copy(const _zssmatrix&amp;) "</span>
00086             &lt;&lt; <span class="stringliteral">"A zssmatrix at "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r4">Array</a> &lt;&lt; <span class="stringliteral">" is going to be deleted, "</span>
00087             &lt;&lt; <span class="stringliteral">"and point at "</span> &lt;&lt; mat.Array &lt;&lt; <span class="stringliteral">" instead."</span> &lt;&lt; std::endl;
00088 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00089 <span class="preprocessor"></span>  
00090   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r4">Array</a>;
00091   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r5">Indx</a>;
00092   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r6">Jndx</a>;
00093   <a class="code" href="classzssmatrix.html#r0">M</a> =mat.M;
00094   <a class="code" href="classzssmatrix.html#r1">N</a> =mat.N;
00095   <a class="code" href="classzssmatrix.html#r2">CAP</a> =mat.CAP;
00096   <a class="code" href="classzssmatrix.html#r3">VOL</a> =mat.VOL;
00097   <a class="code" href="classzssmatrix.html#r4">Array</a> =mat.Array;
00098   <a class="code" href="classzssmatrix.html#r5">Indx</a> =mat.Indx;
00099   <a class="code" href="classzssmatrix.html#r6">Jndx</a> =mat.Jndx;
00100 }
00101 
00102 <span class="comment">//=============================================================================</span><span class="comment"></span>
00103 <span class="comment">/*! resize the matrix */</span>
<a name="l00104"></a><a class="code" href="classzssmatrix.html#a23">00104</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a23">zssmatrix::resize</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _m, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _n, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; _c)
00105 {
00106 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00107 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::resize(const long&amp;, const long&amp;, const long&amp;)"</span>
00108             &lt;&lt; std::endl;
00109 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00110 <span class="preprocessor"></span>  
00111 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00112 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( _m&lt;0 || _n&lt;0 || _c&lt;0 ){
00113     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::resize"</span>
00114               &lt;&lt; <span class="stringliteral">"(const long&amp;, const long&amp;, const long&amp;)"</span>
00115               &lt;&lt; std::endl
00116               &lt;&lt; <span class="stringliteral">"Matrix sizes and the length of arrays "</span>
00117               &lt;&lt; <span class="stringliteral">"must be positive integers. "</span> &lt;&lt; std::endl
00118               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; _m &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; _n &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; _c &lt;&lt; <span class="stringliteral">")."</span>
00119               &lt;&lt; std::endl;
00120     exit(1);
00121   }
00122 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00123 <span class="preprocessor"></span>  
00124   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r4">Array</a>;
00125   <a class="code" href="classzssmatrix.html#r0">M</a> =_m;
00126   <a class="code" href="classzssmatrix.html#r1">N</a> =_n;
00127   <a class="code" href="classzssmatrix.html#r2">CAP</a> =_c;
00128   <a class="code" href="classzssmatrix.html#r3">VOL</a> =0;
00129   <a class="code" href="classzssmatrix.html#r4">Array</a> =<span class="keyword">new</span> std::complex&lt;double&gt;[<a class="code" href="classzssmatrix.html#r2">CAP</a>];
00130   <a class="code" href="classzssmatrix.html#r5">Indx</a> =<span class="keyword">new</span> <span class="keywordtype">long</span>[<a class="code" href="classzssmatrix.html#r2">CAP</a>];
00131   <a class="code" href="classzssmatrix.html#r6">Jndx</a> =<span class="keyword">new</span> <span class="keywordtype">long</span>[<a class="code" href="classzssmatrix.html#r2">CAP</a>];
00132 }
00133 
00134 <span class="comment">//=============================================================================</span><span class="comment"></span>
00135 <span class="comment">/*! expand the matrix capacity */</span>
<a name="l00136"></a><a class="code" href="classzssmatrix.html#a24">00136</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a24">zssmatrix::expand</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; dc)
00137 {
00138 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00139 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::expand(const long&amp;)"</span>
00140             &lt;&lt; std::endl;
00141 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00142 <span class="preprocessor"></span>  
00143 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00144 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( dc&lt;0 ){
00145     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::expand(const long&amp;)"</span> &lt;&lt; std::endl
00146               &lt;&lt; <span class="stringliteral">"The argument must be a positive integer. "</span> &lt;&lt; std::endl
00147               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; dc &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00148     exit(1);
00149   }
00150 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00151 <span class="preprocessor"></span>
00152   <a class="code" href="classzssmatrix.html#r2">CAP</a>+=dc;
00153   std::complex&lt;double&gt;* newArray(<span class="keyword">new</span> std::complex&lt;double&gt;[<a class="code" href="classzssmatrix.html#r2">CAP</a>]);
00154   <span class="keywordtype">long</span> *newIndx(<span class="keyword">new</span> <span class="keywordtype">long</span>[CAP]), *newJndx(<span class="keyword">new</span> <span class="keywordtype">long</span>[CAP]);
00155   
00156   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0; c&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; c++){
00157     newArray[c] =<a class="code" href="classzssmatrix.html#r4">Array</a>[c];
00158     newIndx[c] =<a class="code" href="classzssmatrix.html#r5">Indx</a>[c];
00159     newJndx[c] =<a class="code" href="classzssmatrix.html#r6">Jndx</a>[c];
00160   }
00161   
00162   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r4">Array</a>;
00163   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r5">Indx</a>;
00164   <span class="keyword">delete</span> [] <a class="code" href="classzssmatrix.html#r6">Jndx</a>;
00165   <a class="code" href="classzssmatrix.html#r4">Array</a> =newArray;
00166   <a class="code" href="classzssmatrix.html#r5">Indx</a> =newIndx;
00167   <a class="code" href="classzssmatrix.html#r6">Jndx</a> =newJndx;
00168 }
00169 
00170 <span class="comment">//=============================================================================</span><span class="comment"></span>
00171 <span class="comment">/*! check if the component is listed */</span>
<a name="l00172"></a><a class="code" href="classzssmatrix.html#a25">00172</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classzssmatrix.html#a25">zssmatrix::isListed</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j)
00173 {
00174 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00175 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::isListed(const long&amp;, const long&amp;)"</span>
00176             &lt;&lt; std::endl;
00177 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00178 <span class="preprocessor"></span>  
00179 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00180 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classzssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classzssmatrix.html#r1">N</a>&lt;=j ){
00181     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::isListed(const long&amp;, const long&amp;)"</span>
00182               &lt;&lt; std::endl
00183               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00184               &lt;&lt; std::endl
00185               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00186     exit(1);
00187   }
00188 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00189 <span class="preprocessor"></span>  
00190   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0; c&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; c++){
00191     <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classzssmatrix.html#r6">Jndx</a>[c]==j){ <span class="keywordflow">return</span> 1; }
00192   }
00193   
00194   <span class="keywordflow">return</span> 0;
00195 }
00196 
00197 
00198 <span class="comment">//=============================================================================</span><span class="comment"></span>
00199 <span class="comment">/*! return the element number of the component */</span>
<a name="l00200"></a><a class="code" href="classzssmatrix.html#a26">00200</a> <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="classzssmatrix.html#a26">zssmatrix::number</a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; i, <span class="keyword">const</span> <span class="keywordtype">long</span>&amp; j)
00201 {
00202 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00203 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::number(const long&amp;, const long&amp;)"</span>
00204             &lt;&lt; std::endl;
00205 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00206 <span class="preprocessor"></span>  
00207 <span class="preprocessor">#ifdef  CPPL_DEBUG</span>
00208 <span class="preprocessor"></span>  <span class="keywordflow">if</span>( <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a>&lt;0 || j&lt;0 || <a class="code" href="classzssmatrix.html#r0">M</a>&lt;=<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> || <a class="code" href="classzssmatrix.html#r1">N</a>&lt;=j ){
00209     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::number(const long&amp;, const long&amp;)"</span>
00210               &lt;&lt; std::endl
00211               &lt;&lt; <span class="stringliteral">"The required component is out of the matrix size."</span>
00212               &lt;&lt; std::endl
00213               &lt;&lt; <span class="stringliteral">"Your input was ("</span> &lt;&lt; <a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &lt;&lt; <span class="stringliteral">","</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">")."</span> &lt;&lt; std::endl;
00214     exit(1);
00215   }
00216 <span class="preprocessor">#endif//CPPL_DEBUG</span>
00217 <span class="preprocessor"></span>  
00218   <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; c++){
00219     <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r5">Indx</a>[c]==<a class="code" href="__dgbmatrix-calc_8hpp.html#a1">i</a> &amp;&amp; <a class="code" href="classzssmatrix.html#r6">Jndx</a>[c]==j){ <span class="keywordflow">return</span> c; }
00220   }
00221   
00222   <span class="keywordflow">return</span> -1;
00223 }
00224 
00225 
00226 <span class="comment">//=============================================================================</span><span class="comment"></span>
00227 <span class="comment">/*! swap two matrices */</span>
<a name="l00228"></a><a class="code" href="zssmatrix-misc_8hpp.html#a0">00228</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dcovector-misc_8hpp.html#a0">swap</a>(<a class="code" href="classzssmatrix.html">zssmatrix</a>&amp; A, <a class="code" href="classzssmatrix.html">zssmatrix</a>&amp; B)
00229 {
00230 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00231 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] swap(zssmatrix&amp;, zssmatrix&amp;)"</span>
00232             &lt;&lt; std::endl;
00233 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00234 <span class="preprocessor"></span>  
00235   <span class="keywordtype">long</span> A_M(A.M), A_N(A.N), A_CAP(A.CAP), A_VOL(A.VOL);
00236   std::complex&lt;double&gt;* A_Array(A.Array);
00237   <span class="keywordtype">long</span> *A_Indx(A.Indx), *A_Jndx(A.Jndx);
00238   A.<a class="code" href="class__dgematrix.html#o0">M</a>=B.<a class="code" href="class__dgematrix.html#o0">M</a>; A.<a class="code" href="class__dgematrix.html#o1">N</a>=B.<a class="code" href="class__dgematrix.html#o1">N</a>; A.CAP=B.CAP; A.VOL=B.VOL;
00239   A.<a class="code" href="class__dgematrix.html#o2">Array</a>=B.<a class="code" href="class__dgematrix.html#o2">Array</a>; A.Indx=B.Indx; A.Jndx=B.Jndx;
00240   B.<a class="code" href="class__dgematrix.html#o0">M</a>=A_M; B.<a class="code" href="class__dgematrix.html#o1">N</a>=A_N; B.CAP=A_CAP; B.VOL=A_VOL;
00241   B.<a class="code" href="class__dgematrix.html#o2">Array</a>=A_Array; B.Indx=A_Indx; B.Jndx=A_Jndx;
00242 }
00243 
00244 <span class="comment">//=============================================================================</span><span class="comment"></span>
00245 <span class="comment">/*! convert user object to smart-temporary object */</span>
<a name="l00246"></a><a class="code" href="zssmatrix-misc_8hpp.html#a1">00246</a> <span class="keyword">inline</span> <a class="code" href="class__zssmatrix.html">_zssmatrix</a> <a class="code" href="dcovector-misc_8hpp.html#a1">_</a>(<a class="code" href="classzssmatrix.html">zssmatrix</a>&amp; mat)
00247 {
00248 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00249 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] _(zssmatrix&amp;)"</span>
00250             &lt;&lt; std::endl;
00251 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00252 <span class="preprocessor"></span>
00253   <a class="code" href="class__zssmatrix.html">_zssmatrix</a> newmat;
00254 
00255   newmat.<a class="code" href="class__zssmatrix.html#o0">M</a> =mat.<a class="code" href="class__zssmatrix.html#o0">M</a>;
00256   newmat.<a class="code" href="class__zssmatrix.html#o1">N</a> =mat.<a class="code" href="class__zssmatrix.html#o1">N</a>;
00257   newmat.<a class="code" href="class__zssmatrix.html#o2">CAP</a> =mat.<a class="code" href="class__zssmatrix.html#o2">CAP</a>;
00258   newmat.<a class="code" href="class__zssmatrix.html#o3">VOL</a> =mat.<a class="code" href="class__zssmatrix.html#o3">VOL</a>;
00259   newmat.<a class="code" href="class__zssmatrix.html#o4">Array</a> =mat.<a class="code" href="class__zssmatrix.html#o4">Array</a>;
00260   newmat.<a class="code" href="class__zssmatrix.html#o5">Indx</a> =mat.<a class="code" href="class__zssmatrix.html#o5">Indx</a>;
00261   newmat.<a class="code" href="class__zssmatrix.html#o6">Jndx</a> =mat.<a class="code" href="class__zssmatrix.html#o6">Jndx</a>;
00262 
00263   mat.<a class="code" href="class__zssmatrix.html#o0">M</a> =0;
00264   mat.<a class="code" href="class__zssmatrix.html#o1">N</a> =0;
00265   mat.<a class="code" href="class__zssmatrix.html#o2">CAP</a> =0;
00266   mat.<a class="code" href="class__zssmatrix.html#o3">VOL</a> =0;
00267   mat.<a class="code" href="class__zssmatrix.html#o4">Array</a> =NULL;
00268   mat.<a class="code" href="class__zssmatrix.html#o5">Indx</a> =NULL;
00269   mat.<a class="code" href="class__zssmatrix.html#o6">Jndx</a> =NULL;
00270 
00271   <span class="keywordflow">return</span> newmat;
00272 }
00273 <span class="comment"></span>
00274 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00275 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00276 <span class="comment">///////////////////////////////////////////////////////////////////////////////</span>
00277 <span class="comment"></span>
00278 <span class="comment">//=============================================================================</span><span class="comment"></span>
00279 <span class="comment">/*! health checkup */</span>
<a name="l00280"></a><a class="code" href="classzssmatrix.html#a27">00280</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classzssmatrix.html#a27">zssmatrix::checkup</a>()
00281 {
00282 <span class="preprocessor">#ifdef  CPPL_VERBOSE</span>
00283 <span class="preprocessor"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [MARK] zssmatrix::checkup()"</span>
00284             &lt;&lt; std::endl;
00285 <span class="preprocessor">#endif//CPPL_VERBOSE</span>
00286 <span class="preprocessor"></span>  <span class="comment"></span>
00287 <span class="comment">  //////// CAP ////////</span>
00288 <span class="comment"></span>  <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r2">CAP</a>&lt;0){
00289     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::checkup()"</span> &lt;&lt; std::endl
00290               &lt;&lt; <span class="stringliteral">"The cap is not valid."</span> &lt;&lt; std::endl
00291               &lt;&lt; <span class="stringliteral">"CAP was "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r2">CAP</a> &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00292     exit(1);
00293   }
00294   <span class="comment"></span>
00295 <span class="comment">  //////// VOL ////////</span>
00296 <span class="comment"></span>  <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r3">VOL</a>&lt;0 || <a class="code" href="classzssmatrix.html#r3">VOL</a>==<a class="code" href="classzssmatrix.html#r2">CAP</a>){
00297     std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::checkup()"</span> &lt;&lt; std::endl
00298               &lt;&lt; <span class="stringliteral">"The vol is not valid."</span> &lt;&lt; std::endl
00299               &lt;&lt; <span class="stringliteral">"VOL was "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r3">VOL</a> &lt;&lt; <span class="stringliteral">"while CAP is "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r2">CAP</a> &lt;&lt; <span class="stringliteral">"."</span>
00300               &lt;&lt; std::endl;
00301     exit(1);
00302   }
00303   <span class="comment"></span>
00304 <span class="comment">  //////// Elements ////////</span>
00305 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">long</span> c=0; c&lt;<a class="code" href="classzssmatrix.html#r3">VOL</a>; c++){<span class="comment"></span>
00306 <span class="comment">    //// m bound ////</span>
00307 <span class="comment"></span>    <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r5">Indx</a>[c]&lt;0 || <a class="code" href="classzssmatrix.html#r5">Indx</a>[c]&gt;=<a class="code" href="classzssmatrix.html#r0">M</a>){
00308       std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::checkup()"</span> &lt;&lt; std::endl
00309                 &lt;&lt; <span class="stringliteral">"The indx of the "</span> &lt;&lt; c
00310                 &lt;&lt; <span class="stringliteral">"th element is out of the matrix size."</span> &lt;&lt; std::endl
00311                 &lt;&lt; <span class="stringliteral">"Indx["</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">"] was "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r5">Indx</a>[c] &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00312       exit(1);
00313     }
00314 <span class="comment"></span>
00315 <span class="comment">    //// n bound ////</span>
00316 <span class="comment"></span>    <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r6">Jndx</a>[c]&lt;0 || <a class="code" href="classzssmatrix.html#r6">Jndx</a>[c]&gt;=<a class="code" href="classzssmatrix.html#r1">N</a>){
00317       std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::checkup()"</span> &lt;&lt; std::endl
00318                 &lt;&lt; <span class="stringliteral">"The jndx of the "</span> &lt;&lt; c
00319                 &lt;&lt; <span class="stringliteral">"th element is out of the matrix size."</span> &lt;&lt; std::endl
00320                 &lt;&lt; <span class="stringliteral">"Jndx["</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">"] was "</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r6">Jndx</a>[c] &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00321       exit(1);
00322     }
00323     <span class="comment"></span>
00324 <span class="comment">    //// std::complex&lt;double&gt;-listed ////</span>
00325 <span class="comment"></span>    <span class="keywordflow">for</span>(<span class="keywordtype">long</span> C=c+1; C&lt;VOL; C++){
00326       <span class="keywordflow">if</span>(<a class="code" href="classzssmatrix.html#r5">Indx</a>[c]==<a class="code" href="classzssmatrix.html#r5">Indx</a>[C] &amp;&amp; <a class="code" href="classzssmatrix.html#r6">Jndx</a>[c]==Jndx[C]){
00327         std::cerr &lt;&lt; <span class="stringliteral">"[ERROR] zssmatrix::checkup()"</span> &lt;&lt; std::endl
00328                   &lt;&lt; <span class="stringliteral">"The ("</span> &lt;&lt; <a class="code" href="classzssmatrix.html#r5">Indx</a>[c] &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; Jndx[c]
00329                   &lt;&lt; <span class="stringliteral">") component is std::complex&lt;double&gt;-listed at the "</span>
00330                   &lt;&lt; c &lt;&lt; <span class="stringliteral">"th and the"</span> &lt;&lt; C &lt;&lt; <span class="stringliteral">"the elements."</span>&lt;&lt; std::endl;
00331         exit(1);
00332       }
00333     }
00334   }
00335   <span class="comment"></span>
00336 <span class="comment">  //////// NOTE ////////</span>
00337 <span class="comment"></span>  std::cerr &lt;&lt; <span class="stringliteral">"# [NOTE] zssmatrix::checkup() "</span>
00338             &lt;&lt; <span class="stringliteral">"This sparse matrix is fine."</span> &lt;&lt; std::endl;
00339 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Mar 25 17:28:24 2005 for CPPLapack by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
